<div class="sticky top-0 py-3 background-green flex flex-column z-2">
  <div class="flex flex-row text-xl px-2">
    <img
      src="assets/icons/arrow/arrow-left.svg"
      alt="Back arrow"
      width="38"
      (click)="onClickBackArrow()" />
    <span class="ml-3 font-semibold align-self-center text-white">
      Mes voyages
    </span>
  </div>

  <div class="w-full flex flex-column align-self-center">
    <form
      [formGroup]="searchForm"
      class="w-11 mt-3 flex flex-column align-self-center gap-3">
      <green-input
        class="w-full align-self-center"
        [formControl]="name"
        [formControlName]="'name'"
        [icon]="'pi pi-search'"
        [placeholder]="'Pays, villes, régions...'"></green-input>

      <div
        class="flex flex-row gap-1 align-items-center font-semibold w-full justify-content-evenly">
        <div
          class="flex flex-row align-items-center py-2 px-3 border-15 gap-2"
          [ngClass]="
            activeFilter === settingsFilter.IN_PROGRESS
              ? 'bg-green-secondary text-white'
              : 'bg-white'
          "
          (click)="onClickFilter(settingsFilter.IN_PROGRESS)">
          En cours
        </div>

        <div
          class="flex flex-row align-items-center py-2 px-3 border-15 gap-2"
          [ngClass]="
            activeFilter === settingsFilter.PLANNED
              ? 'bg-green-secondary text-white'
              : 'bg-white'
          "
          (click)="onClickFilter(settingsFilter.PLANNED)">
          À venir
        </div>

        <div
          class="flex flex-row align-items-center py-2 px-3 border-15 gap-2"
          [ngClass]="
            activeFilter === settingsFilter.FINISHED
              ? 'bg-green-secondary text-white'
              : 'bg-white'
          "
          (click)="onClickFilter(settingsFilter.FINISHED)">
          Terminé
        </div>
      </div>
    </form>
  </div>
</div>

@switch (activeFilter) {
  @case (settingsFilter.IN_PROGRESS) {
    <p-tabView
      class="text-sm w-full"
      *ngIf="activeFilter === settingsFilter.IN_PROGRESS">
      <p-tabPanel class="w-full" *ngFor="let tab of tabs" [header]="tab.title">
        <app-profile-daily-program
          [initialData]="
            profileDailyPrograms[tab.index]
          "></app-profile-daily-program>
      </p-tabPanel>
    </p-tabView>
  }
  @case (settingsFilter.PLANNED) {
    <div class="flex flex-column pt-2 px-3 pb-2 gap-2">
      <div class="flex flex-column card-border-price gap-1 text-sm">
        <div class="flex flex-row justify-content-between align-items-center">
          <span> 06:21 : Gare de Paris-Nord </span>
          <div
            class="flex flex-row align-items-center justify-content-between w-2-5">
            <img
              [ngSrc]="'assets/transports/train.svg'"
              [alt]="'Train'"
              width="20"
              height="20" />

            <span>57€</span>
          </div>
        </div>

        <div class="flex flex-row justify-content-between align-items-center">
          <span> 07:54 : Gare de Bruxelles-Midi </span>
          <span class="text-green text-xxs font-semibold mt-0-5">
            0,72 kg de CO<sub>2</sub>
          </span>
        </div>

        <span class="text-xxs mt-1">Départ le 13 juillet 2024</span>
      </div>

      <div class="flex flex-column card-border-price gap-1 text-sm">
        <div class="flex flex-row justify-content-between align-items-center">
          <span> 16:21 : Gare de Paris-Nord </span>
          <div
            class="flex flex-row align-items-center justify-content-between w-2-5">
            <img
              [ngSrc]="'assets/transports/train.svg'"
              [alt]="'Train'"
              width="20"
              height="20" />

            <span>76€</span>
          </div>
        </div>

        <div class="flex flex-row justify-content-between align-items-center">
          <span> 17:54 : Gare de Bruxelles-Midi </span>
          <span class="text-green text-xxs font-semibold mt-0-5">
            0,63 kg de CO<sub>2</sub>
          </span>
        </div>

        <span class="text-xxs mt-1">Départ le 06 octobre 2024</span>
      </div>
    </div>
  }
  @case (settingsFilter.FINISHED) {
    <div class="flex flex-column pt-2 px-3 pb-2 gap-2">
      <div class="flex flex-column card-border-price gap-1 text-sm">
        <div class="flex flex-row justify-content-between align-items-center">
          <span> 06:21 : Gare de Paris-Nord </span>
          <div
            class="flex flex-row align-items-center justify-content-between w-2-5">
            <img
              [ngSrc]="'assets/transports/train.svg'"
              [alt]="'Train'"
              width="20"
              height="20" />

            <span>57€</span>
          </div>
        </div>

        <div class="flex flex-row justify-content-between align-items-center">
          <span> 07:54 : Gare de Bruxelles-Midi </span>
          <span class="text-green text-xxs font-semibold mt-0-5">
            0,72 kg de CO<sub>2</sub>
          </span>
        </div>

        <span class="text-xxs mt-1">Départ le 29 juin 2024</span>
      </div>

      <div class="flex flex-column card-border-price gap-1 text-sm">
        <div class="flex flex-row justify-content-between align-items-center">
          <span> 12:22 : Gare de Paris-Nord </span>
          <div
            class="flex flex-row align-items-center justify-content-between w-2-5">
            <img
              [ngSrc]="'assets/transports/train.svg'"
              [alt]="'Train'"
              width="20"
              height="20" />

            <span>62€</span>
          </div>
        </div>

        <div class="flex flex-row justify-content-between align-items-center">
          <span> 13:56 : Gare de Bruxelles-Midi </span>
          <span class="text-green text-xxs font-semibold mt-0-5">
            0,76 kg de CO<sub>2</sub>
          </span>
        </div>

        <span class="text-xxs mt-1">Départ le 22 mai 2024</span>
      </div>

      <div class="card-border-travel border-round-2xl flex flex-column">
        <div class="relative w-full">
          <img
            class="w-full image align-self-center h-10rem border-round-top-2xl"
            [src]="'assets/travel/cities/florence.png'"
            alt="City picture" />
          <div
            class="w-full absolute top-0 flex flex-row justify-content-between px-2 pt-2">
            <span class="py-1 px-2 bg-white border-round-2xl text-xs">
              Italie
            </span>
            <span class="py-1 px-2 bg-white border-round-2xl text-xs">
              190€
            </span>
          </div>
        </div>

        <div class="pt-1 px-2 pb-2 flex flex-column gap-1">
          <div class="flex flex-row justify-content-between align-items-center">
            <span class="text-sm">Florence - Pise</span>
            <div class="flex flex-row gap-2 align-items-center">
              <img
                [src]="'assets/transports/hike.svg'"
                alt="Transport image"
                height="20"
                width="20" />

              <img
                [src]="'assets/transports/bike.svg'"
                alt="Transport image"
                height="20"
                width="20" />

              <img
                [src]="'assets/transports/van.svg'"
                alt="Transport image"
                height="20"
                width="20" />

              <span class="text-sm ml-2"> 4 jours </span>
            </div>
          </div>

          <div class="flex flex-row justify-content-between align-items-center">
            <span class="text-xxs"> Départ le 15 avril 2024 </span>
            <span class="font-semibold text-xs text-green">
              31.6 kg de CO<sub>2</sub> préservé
            </span>
          </div>
        </div>
      </div>

      <div class="flex flex-column card-border-price gap-1 text-sm">
        <div class="flex flex-row justify-content-between align-items-center">
          <span> 06:21 : Gare de Paris-Nord </span>
          <div
            class="flex flex-row align-items-center justify-content-between w-2-5">
            <img
              [ngSrc]="'assets/transports/train.svg'"
              [alt]="'Train'"
              width="20"
              height="20" />

            <span>57€</span>
          </div>
        </div>

        <div class="flex flex-row justify-content-between align-items-center">
          <span> 07:54 : Gare de Bruxelles-Midi </span>
          <span class="text-green text-xxs font-semibold mt-0-5">
            0,72 kg de CO<sub>2</sub>
          </span>
        </div>

        <span class="text-xxs mt-1">Départ le 13 octobre 2023</span>
      </div>
    </div>
  }
}
